> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [kuroha.vip](https://kuroha.vip/hexo/hexo_update.html#%E9%BC%A0%E6%A0%87%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95-GalMenu)

  

Hexo 3.9.0 + NexT 7.2.0 => Hexo 5.1.0 + NexT 8.0.0
==================================================

å‘è¡¨äº 2020-08-28 æ›´æ–°äº 2021-02-05 åˆ†ç±»äº [Hexo](/categories/Hexo/)  
æœ¬æ–‡å­—æ•°ï¼š 13k é˜…è¯»æ—¶é•¿ â‰ˆ 12 åˆ†é’Ÿ ä¸€ä¸ª warning å¼•å‘çš„æƒ¨æ¡ˆ!

[](#ğŸ³â€ğŸŒˆæƒ¨æ¡ˆ "ğŸ³â€ğŸŒˆæƒ¨æ¡ˆ")ğŸ³â€ğŸŒˆæƒ¨æ¡ˆ
=============================

ä¸€ä¸ª Warning å¼•å‘çš„æƒ¨æ¡ˆ!

[](#å‡çº§æ–¹å¼ "å‡çº§æ–¹å¼")å‡çº§æ–¹å¼
====================

å…¨æ–°å®‰è£…, å› ä¸ºæˆ‘ä¸ä¼šå‡çº§å•Š~~ğŸ˜‚

[](#å®‰è£…-Git "å®‰è£… Git")å®‰è£… Git
--------------------------

è¿›å…¥ [Git å®˜æ–¹ç½‘ç«™](https://git-scm.com/) ä¸‹è½½å®‰è£….

å¯ä»¥ä½¿ç”¨ `git --version` è¿›è¡ŒéªŒè¯, å‡ºç°ç‰ˆæœ¬å·å°±è¯´æ˜æˆåŠŸäº†.

[](#å®‰è£…-Nodejs "å®‰è£… Nodejs")å®‰è£… Nodejs
-----------------------------------

è¿›å…¥ [Nodejs å®˜æ–¹ç½‘ç«™](https://nodejs.org/en/) ä¸‹è½½å®‰è£….

å°½é‡é€‰æ‹©å®‰è£…é•¿æœŸæ”¯æŒç‰ˆæœ¬ (LTS), æœ€æ–°å‘å¸ƒç‰ˆå¯èƒ½ä¼šæœ‰è­¦å‘Š, ç”šè‡³æœ‰é”™è¯¯å‘ç”Ÿ!

å¯ä»¥ä½¿ç”¨ `node -v` å’Œ `npm -v` è¿›è¡ŒéªŒè¯, å‡ºç°ç‰ˆæœ¬å·å°±è¯´æ˜æˆåŠŸäº†.

[](#å®‰è£…-Hexo "å®‰è£… Hexo")å®‰è£… Hexo
-----------------------------

å®‰è£… Hexo ä¹‹å‰, è®¾ç½® Hexo çš„å®‰è£…ä½ç½®. å…·ä½“è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢: [Hexo + Github Pages æ­å»ºä¸ªäººåšå®¢](https://kuroha.vip/hexo/hexo_blog.html) è¿™é‡Œä¸å†èµ˜è¿°!

å®‰è£… Hexo: **`npm install hexo-cli -g`**

[](#åˆ›å»ºæœ¬åœ°åšå®¢ "åˆ›å»ºæœ¬åœ°åšå®¢")åˆ›å»ºæœ¬åœ°åšå®¢
--------------------------

1.  æ–°å»ºæ–‡ä»¶å¤¹, æ”¾ç½®æœ¬åœ°åšå®¢, åç§°éšæ„. `F:\WorkSpace\Hexo`
    
2.  åˆå§‹åŒ–æœ¬åœ°åšå®¢, åœ¨ Git Bash Here ä¸­è¾“å…¥: `hexo init`
    

[**æ³¨**] **æ­¤æ­¥éª¤éœ€è¦è€—è´¹è¾ƒé•¿ä¸€æ®µæ—¶é—´, æˆ‘å¤§æ¦‚ç”¨äº† 25 åˆ†é’Ÿ! æ…¢æ…¢ç­‰å§!**

> `hexo init` æ˜¯è¿™æ¬¡å‡çº§é‡åˆ°çš„ç¬¬ä¸€ä¸ªå¤§å‘, å¿˜è®°äº†è¿™ä¸ªè¦æ‰§è¡Œå¥½é•¿ä¸€æ®µæ—¶é—´, å¥½å‡ æ¬¡è‡ªå·±ç­‰ä¸è€çƒ¦äº†, ç›´æ¥ `Ctrl + C` äº†! ğŸ˜‚

3.  å®‰è£…é»˜è®¤ä¾èµ–åŒ…, åœ¨ Git Bash Here ä¸­è¾“å…¥: `npm install`

[**æ³¨**] åœ¨ä¸Šä¸€æ­¥ä¸­å¤§éƒ¨åˆ†çš„ä¾èµ–å…¶å®å·²ç»å®‰è£…äº†, è¿™é‡Œåªæ˜¯å®‰è£…ä¸€å°éƒ¨åˆ†, æ‰€ä»¥å¾ˆå¿«!

4.  ç”Ÿæˆé™æ€æ–‡ä»¶, åœ¨ Git Bash Here ä¸­è¾“å…¥: `hexo generate`
    
5.  å¼€å¯æœåŠ¡, åœ¨ Git Bash Here ä¸­è¾“å…¥ `hexo server`
    

[](#éƒ¨ç½²-Hexo "éƒ¨ç½² Hexo")éƒ¨ç½² Hexo
-----------------------------

1.  å®‰è£… Hexo deploy æ’ä»¶, åœ¨ Git Bash Here ä¸­è¾“å…¥: `npm install hexo-deployer-git --no-optional`
    
2.  åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­é…ç½®:
    

```
deploy:
  type: git
  repo: git@github.com:KurohaKirito/KurohaKirito.github.io.git
  branch: master
```

[**æ³¨**] repo ä»“åº“çš„åœ°å€: æœ‰ SSH å’Œ HTTPS ä¸¤ç§æ ¼å¼, æ¨èé€‰æ‹© SSH æ ¼å¼, å¦‚æœé€‰æ‹© Https æ ¼å¼, æ¯æ¬¡å‘å¸ƒæ—¶éƒ½å¿…é¡»è¾“å…¥è´¦å·å¯†ç , ä¸å«Œéº»çƒ¦çš„å¯ä»¥ç”¨!

[](#å®‰è£…-NexT-ä¸»é¢˜ "å®‰è£… NexT ä¸»é¢˜")å®‰è£… NexT ä¸»é¢˜
--------------------------------------

> è¿™é‡Œæ˜¯ç¬¬äºŒä¸ªå¤§å‘, æœ€æ–°ç‰ˆçš„ NexT çš„ä»“åº“å·²ç»æ¢åœ°å€äº†, æˆ‘è¿˜å‚»ä¹ä¹åœ°ç”¨ä¹‹å‰çš„åœ°å€, å”‰...ğŸ˜”

*   2014-2017 => [https://github.com/iissnan/hexo-theme-next](https://github.com/iissnan/hexo-theme-next)
    
*   2018-2019 => [https://github.com/theme-next/hexo-theme-next](https://github.com/theme-next/hexo-theme-next)
    
*   2020-2020 => [https://github.com/next-theme/hexo-theme-next](https://github.com/next-theme/hexo-theme-next)
    

> æ–°ç‰ˆçš„ NexT æ¨èä½¿ç”¨ `npm install hexo-theme-next --no-optional` è¿›è¡Œå®‰è£…, ä½œä¸ºä¸€ä¸ª node_module å­˜åœ¨! å®‰è£…ä¹‹åè·¯å¾„ä¸º: node_module/hexo-theme-next.

> æ–°ç‰ˆçš„ NexT æ¨èç”¨æˆ·ä¸è¦ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶, è€Œæ˜¯åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª **_config[. ä¸»é¢˜åç§°].yml** æ–‡ä»¶, ä½œä¸ºæ–°çš„ä¸»é¢˜é…ç½®æ–‡ä»¶.

[![](https://kuroha.vip/images/hexo_update/next_theme_config.png)](/images/hexo_update/next_theme_config.png "next_theme_config")

[next_theme_config](/images/hexo_update/next_theme_config.png "next_theme_config")

å¯ä»¥å…ˆä» node_module/hexo-theme-next æ–‡ä»¶å¤¹ä¸­å¤åˆ¶ä¸€ä»½é…ç½®æ–‡ä»¶å‡ºæ¥, ç„¶åæŒ‰ç…§è§„åˆ™é‡å‘½å, æœ€åä¿®æ”¹å…¶ä¸­çš„è®¾ç½®å³å¯!

[](#è‡ªå®šä¹‰ç«™ç‚¹é…ç½®æ–‡ä»¶ "è‡ªå®šä¹‰ç«™ç‚¹é…ç½®æ–‡ä»¶")è‡ªå®šä¹‰ç«™ç‚¹é…ç½®æ–‡ä»¶
===================================

[](#ä¸»é¢˜ "ä¸»é¢˜")ä¸»é¢˜
--------------

ä¿®æ”¹ theme çš„å€¼ä¸º next, è¿™é‡Œçš„åå­—è¦å’Œä¹‹å‰æ–°å»ºä¸»é¢˜é…ç½®æ–‡ä»¶æ—¶ä½¿ç”¨çš„åç§°ä¸€è‡´!

[](#åšå®¢ç½‘å€æ ·å¼ "åšå®¢ç½‘å€æ ·å¼")åšå®¢ç½‘å€æ ·å¼
--------------------------

```
permalink: :title.html
```

[](#å…³é—­-quot-åŠè§’å­—ç¬¦è‡ªåŠ¨è½¬æ¢å…¨è§’å­—ç¬¦-quot "å…³é—­ "åŠè§’å­—ç¬¦è‡ªåŠ¨è½¬æ¢å…¨è§’å­—ç¬¦"")å…³é—­ "åŠè§’å­—ç¬¦è‡ªåŠ¨è½¬æ¢å…¨è§’å­—ç¬¦"
-------------------------------------------------------------------

```
marked:
  smartypants: false
```

[](#ç”Ÿæˆç«™ç‚¹åœ°å›¾-è°·æ­Œç‰ˆ "ç”Ÿæˆç«™ç‚¹åœ°å›¾ (è°·æ­Œç‰ˆ)")ç”Ÿæˆç«™ç‚¹åœ°å›¾ (è°·æ­Œç‰ˆ)
------------------------------------------

1.  å®‰è£…ä¾èµ– `hexo-generator-sitemap`, å‘½ä»¤: `npm install hexo-generator-sitemap --no-optional`, ä¹‹åç”Ÿæˆç½‘ç«™æ—¶, ä¾¿ä¼šè‡ªåŠ¨åœ¨æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ª `sitemap.xml` æ–‡ä»¶!
    
2.  åœ¨ source æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡æœ¬æ–‡ä»¶: `robots.txt`, å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹:
    

```
User-agent: *
Disallow:
Sitemap: https://kuroha.vip/sitemap.xml
```

*   *   `User-agent` : å®šä¹‰ä»¥ä¸‹é…ç½®å¯¹å“ªäº›æœç´¢å¼•æ“ç”Ÿæ•ˆ.
*   *   `Allow` : å…è®¸æŠ“å–çš„å†…å®¹.
*   *   `Disallow` : ä¸å…è®¸æŠ“å–çš„å†…å®¹.
*   *   `Sitemap` : ç«™ç‚¹åœ°å›¾çš„å­˜æ”¾åœ°å€.

é‡æ–°å‘å¸ƒä¹‹å, ä¾¿å¯ä»¥å°†ç«™ç‚¹åœ°å›¾æäº¤ç»™ Google Search äº†!

[](#è‡ªå®šä¹‰ä¸»é¢˜é…ç½®æ–‡ä»¶ "è‡ªå®šä¹‰ä¸»é¢˜é…ç½®æ–‡ä»¶")è‡ªå®šä¹‰ä¸»é¢˜é…ç½®æ–‡ä»¶
===================================

é…ç½®æ–‡ä»¶ä¸­åªéœ€è¦æ”¹æ”¹è®¾ç½®å°±å¯ä»¥å‡ºç°æ•ˆæœçš„å°±ä¸æäº†, è¯´ä¸€ä¸‹æ³¨æ„äº‹é¡¹:

[](#å¼€å¯è‡ªå®šä¹‰é…ç½® "å¼€å¯è‡ªå®šä¹‰é…ç½®")å¼€å¯è‡ªå®šä¹‰é…ç½®
-----------------------------

å–æ¶ˆè‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„æ³¨é‡Š, å¹¶ä¸”è¦åœ¨å¯¹åº”çš„è·¯å¾„ä¸‹åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶.

[](#å¼€å¯æ ‡ç­¾-åˆ†ç±»-å…³äºèœå• "å¼€å¯æ ‡ç­¾, åˆ†ç±», å…³äºèœå•")å¼€å¯æ ‡ç­¾, åˆ†ç±», å…³äºèœå•
------------------------------------------------

å–æ¶ˆç›¸åº”çš„è®¾ç½®é€‰é¡¹å, å¿…é¡»åœ¨ `source` æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºç›¸åº”çš„è·¯å¾„, å¹¶åˆ›å»ºç›¸åº”çš„ markdown æ–‡ä»¶, æ–‡ä»¶ä¸­çš„å†…å®¹è™½ç„¶å¾ˆç®€å•, ä½†æ˜¯ä¹Ÿå¿…é¡»æ·»åŠ ! `comments : false` å¯ä»¥ä½¿å½“å‰é¡µé¢ç¦ç”¨è¯„è®ºç³»ç»Ÿ.

### [](#åˆ†ç±» "åˆ†ç±»")åˆ†ç±»

```
---
type: "categories"
comments: false
---
```

### [](#æ ‡ç­¾ "æ ‡ç­¾")æ ‡ç­¾

```
---
type: "tags"
comments: false
---
```

[](#è®¾ç½®-Favicon-å›¾æ ‡ "è®¾ç½® Favicon å›¾æ ‡")è®¾ç½® Favicon å›¾æ ‡
-----------------------------------------------

åœ¨ favicon å±æ€§åè®¾ç½®è·¯å¾„ä¹‹å, å¿…é¡»åœ¨ç›¸åº”çš„è·¯å¾„ä¸‹åˆ›å»ºå›¾ç‰‡, å¦åˆ™æ‰¾ä¸åˆ°æ–‡ä»¶ä¼šæŠ¥é”™! è®¾ç½®ä¾§è¾¹æ å¤´åƒæ—¶åŒç†.

[](#æ·»åŠ é¢„è®¡é˜…è¯»æ—¶é—´åŠŸèƒ½ "æ·»åŠ é¢„è®¡é˜…è¯»æ—¶é—´åŠŸèƒ½")æ·»åŠ é¢„è®¡é˜…è¯»æ—¶é—´åŠŸèƒ½
--------------------------------------

éœ€è¦å®‰è£…ä¾èµ–: [hexo-word-counter](https://github.com/next-theme/hexo-word-counter)

`npm install hexo-word-counter --no-optional`

[**æ³¨**] æ‰€æœ‰éœ€è¦å®‰è£…ä¾èµ–æ‰èƒ½å‡ºç°æ•ˆæœçš„, å®‰è£…å®Œä¾èµ–å¹¶è®¾ç½®å¥½ä¹‹å, å¿…é¡»æ¸…ç†ç¼“å­˜é‡æ–°ç”Ÿæˆæ‰ä¼šç”Ÿæ•ˆ!

[**æ³¨**] æŸäº›ç‰¹æ•ˆéœ€è¦å…³é—­æ–°ç‰ˆ NexT ä¸­çš„ Pjax

[](#å…³é—­æœ€å—æ¬¢è¿æ–‡ç« åŠŸèƒ½ "å…³é—­æœ€å—æ¬¢è¿æ–‡ç« åŠŸèƒ½")å…³é—­æœ€å—æ¬¢è¿æ–‡ç« åŠŸèƒ½
--------------------------------------

NexT ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªè®¾ç½®: related_posts, å¯ä»¥å½“ä½œ "æœ€è¿‘å—æ¬¢è¿çš„æ–‡ç« ", "ç›¸å…³åšå®¢" æˆ–è€… "æ¨èé˜…è¯»" ä½¿ç”¨, ä½†æ˜¯ç”±äºå…¶ä¾èµ–æœ‰ç‚¹è¿‡æ—¶, æ¨èå…³é—­æ­¤åŠŸèƒ½!

[](#ä»£ç é«˜äº®é£æ ¼è®¾ç½® "ä»£ç é«˜äº®é£æ ¼è®¾ç½®")ä»£ç é«˜äº®é£æ ¼è®¾ç½®
--------------------------------

å¦‚æœä½¿ç”¨ `Prism` è¿›è¡Œä»£ç é«˜äº®æ¸²æŸ“, å¹¶ä¸”é€‰æ‹©è¾ƒé«˜çº§çš„ä¸€äº›æ•ˆæœ, éœ€è¦å®‰è£…ä¾èµ–.

`npm install prism-themes --no-optional`

å¹¶ä¸”è¦åœ¨ **ç«™ç‚¹é…ç½®æ–‡ä»¶** ä¸­å°† highlight è®¾ä¸º false, prismjs è®¾ä¸º true.

```
highlight:
  enable: false
  line_number: true
  auto_detect: false
  tab_replace: ''
  wrap: true
  hljs: false
prismjs:
  enable: true
  preprocess: true
  line_number: true
  tab_replace: ''
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** çš„ prism åè®¾ç½®ä½¿ç”¨çš„æ¸²æŸ“é£æ ¼.

[](#æœ¬åœ°æœç´¢ "æœ¬åœ°æœç´¢")æœ¬åœ°æœç´¢
--------------------

éœ€è¦å®‰è£…ä¾èµ–: [hexo-generator-searchdb](https://github.com/next-theme/hexo-generator-searchdb)

`npm install hexo-generator-searchdb --no-optional`

[](#éŸ³ä¹æ’­æ”¾å™¨-APlayer "éŸ³ä¹æ’­æ”¾å™¨ APlayer")éŸ³ä¹æ’­æ”¾å™¨ APlayer
-----------------------------------------------

> APlayer æºç åœ°å€: [APlayer](https://github.com/MoePlayer/APlayer)

æ–°å»ºç›®å½•: `source/js/aplayer`, ä¸‹è½½å¹¶è§£å‹æºç , å°† `dist` æ–‡ä»¶å¤¹ä¸­çš„å››ä¸ªæ–‡ä»¶å¤åˆ¶åˆ° `source/js/aplayer` ä¸­.

è¿”å› `source/js` æ–‡ä»¶å¤¹, æ–°å»ºä¸€ä¸ª `fixedAplayer.js` æ–‡ä»¶, è¾“å…¥ä»¥ä¸‹ä»£ç :

```
const ap = new APlayer({
    container: document.getElementById('aplayer'),
    fixed: true,
    autoplay: false,
    audio: [
      {
        name: 'æ­Œæ›²çš„åå­—',
        artist: 'æ­Œæ‰‹',
        url: 'éŸ³ä¹æ–‡ä»¶çš„åœ°å€',
        cover: 'å°é¢å›¾ç‰‡çš„åœ°å€',
      }
    ]
});
```

ä¹‹ååœ¨ `source/_data/body-end.njk` ä¸­æ·»åŠ :

```
<!--APlayer å¸åº•å¼éŸ³ä¹æ’­æ”¾åŠŸèƒ½-->
{% if theme.aplayer_fixed %}
    <link rel="stylesheet" href="/js/aplayer/APlayer.min.css">
    <div></div>
    <script type="text/javascript" src="/js/aplayer/APlayer.min.js"></script>
    <script type="text/javascript" src="/js/fixedAplayer.js"></script>
{% endif %}
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `aplayer_fixed: true`.

[](#è§†é¢‘æ’­æ”¾å™¨-DPlayer "è§†é¢‘æ’­æ”¾å™¨ DPlayer")è§†é¢‘æ’­æ”¾å™¨ DPlayer
-----------------------------------------------

> DPlayer æºç åœ°å€: [DPlayer](https://github.com/MoePlayer/DPlayer)

æ–°å»ºç›®å½•: `source/js/dplayer`, ä¸‹è½½å¹¶è§£å‹æºç , å°† `dist` æ–‡ä»¶å¤¹ä¸­çš„å››ä¸ªæ–‡ä»¶å¤åˆ¶åˆ° `source/js/dplayer` ä¸­.

åœ¨å¾…æ·»åŠ è§†é¢‘åšå®¢çš„æ‰€éœ€ä½ç½®ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç :

```
<div></div>
<script src="/js/dplayer/DPlayer.min.js"></script>

<script>
const dp_update = new DPlayer({
    container: document.getElementById('dplayer'),
    screenshot: true,
    video:
    {
        url: '/video/hexo_update/hexo_update.mp4', //è§†é¢‘æ–‡ä»¶
        pic: '/video/hexo_update/hexo_update.jpg', //è§†é¢‘å°é¢
    },
});
</script>
```

[](#è‡ªå®šä¹‰å•è¡Œä»£ç æ®µæ ·å¼ "è‡ªå®šä¹‰å•è¡Œä»£ç æ®µæ ·å¼")è‡ªå®šä¹‰å•è¡Œä»£ç æ®µæ ·å¼
--------------------------------------

æ‰“å¼€ `source/_data/styles.styl` æ–‡ä»¶, æ·»åŠ å¯¹ `Code` æ ‡ç­¾çš„è‡ªå®šä¹‰é…ç½®å³å¯. ä¸‹é¢æ˜¯æˆ‘åšå®¢ä½¿ç”¨çš„é…ç½®.

```
// å•è¡Œä»£ç å— çš„è‡ªå®šä¹‰æ ·å¼
code {
    margin: 0px 0px;             // å¤–è¾¹è·
    border: 2px solid #00000099; // è¾¹æ¡†åšåº¦, è¾¹æ¡†æ ·å¼, è¾¹æ¡†é¢œè‰²
    border-radius: 0px;          // è¾¹æ¡†åœ†æ¶¦åº¦
    color: #d0104c;              // ä»£ç é¢œè‰²
}
```

[](#æ·»åŠ æ‰å°çŒ«æ¸¸æˆ "æ·»åŠ æ‰å°çŒ«æ¸¸æˆ")æ·»åŠ æ‰å°çŒ«æ¸¸æˆ
-----------------------------

1.  ä¸‹è½½æ‰å°çŒ«æ¸¸æˆæºæ–‡ä»¶å¹¶è§£å‹, ä¹‹åå°†è§£å‹å¥½çš„æ–‡ä»¶å¤¹ `source` å’Œåšå®¢ç›®å½•ä¸‹çš„ `source` æ–‡ä»¶å¤¹åˆå¹¶. [Catch The Cat](https://od.lk/d/NzNfMjczNjY3MThf/catch_the_cat.7z)
    
2.  åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„ menu å¤„æ·»åŠ æ–°èœå•é¡¹: æ‰å°çŒ«! ä»…éœ€ä¸¤æ­¥, å¤§åŠŸå‘Šæˆ!
    

```
menu:
  æ‰å°çŒ«: /catch_the_cat/ || fa fa-cat
```

[](#é¼ æ ‡å³é”®èœå•-GalMenu "é¼ æ ‡å³é”®èœå• GalMenu")é¼ æ ‡å³é”®èœå• GalMenu
--------------------------------------------------

1.  ä¸‹è½½ GalMenu æºæ–‡ä»¶å¹¶è§£å‹, ä¹‹åå°†è§£å‹å¥½çš„æ–‡ä»¶å¤¹ `galmenu` æ”¾åˆ°åšå®¢çš„ `source/js` æ–‡ä»¶å¤¹ä¸‹. [GalMenu ä¸‹è½½é“¾æ¥](https://od.lk/d/NzNfMjczNjY3MThf/catch_the_cat.7z) è§£å‹å¯†ç : `https://kuroha.vip/`
    
2.  åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ `_config.next.yml` ä¸­æ·»åŠ é…ç½®.
    

```
galmenu:
  enable: true # åŠ¨æ¼«èœå•
  audio: true # èœå•éŸ³æ•ˆ
```

3.  åœ¨ `source/_data/body-end.njk` æ–‡ä»¶ä¸­æ·»åŠ é…ç½®.
    
    [**æ³¨**] åœ¨è¿™é‡Œå¯ä»¥è‡ªå®šä¹‰èœå•é¡¹åç§°, è€Œä¸”åœ¨ audio æ ‡ç­¾ä¸­å¯ä»¥è‡ªå®šä¹‰éŸ³æ•ˆæ–‡ä»¶åç§°, å»ºè®®ä¸è¦ä¿®æ”¹è·¯å¾„. ä¿®æ”¹åç§°åè®°å¾—ä¸€å®šè¦åœ¨ `source/js/galmenu/audio` æ–‡ä»¶å¤¹ä¸­æ”¾å…¥è‡ªå®šä¹‰çš„éŸ³æ•ˆèµ„æº.
    

```
<!--åŠ¨æ¼«èœå•-->
{% if theme.galmenu.enable %}
    <div>
        <div>
            <div>
                <a href="/">é¦–é¡µ</a>
                <a href="javascript:history.go(1);">å‰è¿›</a>
                <a href="javascript:$('html,body').animate({scrollTop:0},500);">é¡¶éƒ¨</a>
                <a href="javascript:location.reload();">åˆ·æ–°</a>
                <a href="/about/">ç•™è¨€</a>
                <a href="javascript:history.go(-1);">åé€€</a>
            </div>
            {% if theme.galmenu.audio %}
                <audio src="../js/galmenu/audio/sao-menu.wav"></audio>
            {% endif %}
        </div>
    </div>
    <script type="text/javascript">
        var items = document.querySelectorAll('.menuItem');
        for (var i = 0, l = items.length; i < l; i++) {
            items[i].style.left = (50 - 35 * Math.cos(- 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
            items[i].style.top = (50 + 35 * Math.sin(- 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
        }
    </script>
    <script>
        window.jQuery || document.write('<script src="../js/galmenu/js/jquery.min.js"><\/script>')
    </script>
    <script src="../js/galmenu/js/GalMenu.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('body').GalMenu({'menu': 'GalDropDown'})
        });
    </script>
{% endif %}
```

3.  åœ¨ `source/_data/head.njk` æ–‡ä»¶å†…æ·»åŠ  CSS å¼•ç”¨.
    
    [**æ³¨**] åœ¨è¿™ä¸ª CSS æ–‡ä»¶ä¸­å¯ä»¥ä¿®æ”¹èœå•å›¾ç‰‡çš„æ–‡ä»¶å, å»ºè®®ä¸è¦ä¿®æ”¹è·¯å¾„. ä¿®æ”¹åç§°åè®°å¾—ä¸€å®šè¦åœ¨ `source/js/galmenu/img` æ–‡ä»¶å¤¹ä¸­æ”¾å…¥è‡ªå®šä¹‰çš„å›¾ç‰‡èµ„æº.
    

```
<!--åŠ¨æ¼«èœå•-->
{% if theme.galmenu.enable %}
    <link rel="stylesheet" href="../js/galmenu/css/GalMenu.css">
{% endif %}
```

è‡³æ­¤å¤§åŠŸå‘Šæˆ!

[](#é¼ æ ‡å•å‡»ä¹‹å¿ƒå½¢å›¾æ¡ˆç‰¹æ•ˆ "é¼ æ ‡å•å‡»ä¹‹å¿ƒå½¢å›¾æ¡ˆç‰¹æ•ˆ")é¼ æ ‡å•å‡»ä¹‹å¿ƒå½¢å›¾æ¡ˆç‰¹æ•ˆ
-----------------------------------------

åœ¨ `source/js` ä¸‹åˆ›å»º `love.js` æ–‡ä»¶, å†…å®¹å…·ä½“è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢: [Hexo + NexT ä¸»é¢˜ç¾åŒ– (NexT v7.2.0)](https://kuroha.vip/hexo/next_theme_beautify.html) è¿™é‡Œä¸å†èµ˜è¿°!

ä¹‹ååœ¨ `source/_data/body-end.njk` ä¸­æ·»åŠ :

```
<!--å¿ƒå½¢å›¾æ¡ˆæ•ˆæœ-->
{% if theme.love %}
  <script type="text/javascript" src="/js/love.js"></script>
{% endif %}
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `love: true`.

[](#é¼ æ ‡å•å‡»ä¹‹çƒŸèŠ±çˆ†ç‚¸ç‰¹æ•ˆ "é¼ æ ‡å•å‡»ä¹‹çƒŸèŠ±çˆ†ç‚¸ç‰¹æ•ˆ")é¼ æ ‡å•å‡»ä¹‹çƒŸèŠ±çˆ†ç‚¸ç‰¹æ•ˆ
-----------------------------------------

1.  ä¸‹è½½ `fireworks.js` æ–‡ä»¶åˆ° `source/js` æ–‡ä»¶å¤¹ä¸‹
    
2.  åœ¨ `source/_data/body-end.njk` ä¸­æ·»åŠ :
    

```
<!--çƒŸèŠ±çˆ†ç‚¸ç‰¹æ•ˆ-->
{% if theme.fireworks %}
    <canvas></canvas>
    <script type="text/javascript" src="/js/fireworks.js"></script>
{% endif %}
```

3.  åœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `fireworks: true`.

**ä¸‹è½½åœ°å€:** [fireworks.7z](https://od.lk/d/NzNfMjUzMDkxMjdf/fireworks.7z), è§£å‹å¯†ç æ˜¯: `https://kuroha.vip/`.

[**æ³¨**] éƒ½è¯»åˆ°è¿™é‡Œäº†, æˆ‘æƒ³ä½ è‚¯å®šæ—©å°±çŸ¥é“äº†, æƒ³è¦è·å–æ–‡ç« ä¸­æåˆ°çš„æ‰€æœ‰èµ„æºæ–‡ä»¶, åªè¦ F12 å°±å¯ä»¥äº†! ğŸ˜‚ å½“ç„¶æˆ‘è¿˜æ˜¯æä¾›äº†ä¸‹è½½åœ°å€çš„...

[](#é¡µé¢æ ‡é¢˜æ¬ºè¯ˆ "é¡µé¢æ ‡é¢˜æ¬ºè¯ˆ")é¡µé¢æ ‡é¢˜æ¬ºè¯ˆ
--------------------------

åœ¨ `source/js` ä¸‹åˆ›å»º `crash_cheat.js` æ–‡ä»¶, å†…å®¹å…·ä½“è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢: [Hexo + NexT ä¸»é¢˜ç¾åŒ– (NexT v7.2.0)](https://kuroha.vip/hexo/next_theme_beautify.html) è¿™é‡Œä¸å†èµ˜è¿°!

ä¹‹ååœ¨ `source/_data/body-end.njk` ä¸­æ·»åŠ :

```
<!--å´©æºƒæ¬ºéª—-->
{% if theme.crashcheat %}
  <script type="text/javascript" src="/js/crash_cheat.js"></script>
{% endif %}
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `crashcheat: true`.

[](#çƒå½¢æ ‡ç­¾äº‘ "çƒå½¢æ ‡ç­¾äº‘")çƒå½¢æ ‡ç­¾äº‘
-----------------------

çƒå½¢æ ‡ç­¾äº‘å…¶å®å°±æ˜¯ç”¨è¿™ä¸ªæ’ä»¶ [TagCanvas](https://www.goat1000.com/tagcanvas.php) å®ç°çš„, ç‚¹å‡»è¿›å…¥å®˜ç½‘.

è¿›å…¥å®˜ç½‘åä¸‹è½½ [tagcanvas.js](https://www.goat1000.com/tagcanvas.js) æ–‡ä»¶, ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å·¦é¢æˆ‘ç»™å‡ºçš„é“¾æ¥é‚£é‡Œ "å³é”® => é“¾æ¥å¦å­˜ä¸º", ä¿å­˜åˆ°: `source\js` ç›®å½•ä¸‹. éœ€è¦çš„å°±æ˜¯è¿™ä¸€ä¸ª `tagcanvas.js` æ–‡ä»¶!

æ‰“å¼€ `source/js` æ–‡ä»¶å¤¹ä¸­å†æ–°å»ºä¸€ä¸ª `tagcloud.js` æ–‡ä»¶, å†™å…¥ä»¥ä¸‹å†…å®¹:

```
window.onload = function () {
    try {
        TagCanvas.Start('my3DTags', 'tags',
            {
                textFont: 'Georgia,Optima',
                textColour: null,
                outlineColour: 'black',
                weight: true,
                reverse: true,
                depth: 0.8,
                maxSpeed: 0.05,
                bgRadius: 1,
                freezeDecel: true
            });
    }
    catch (e) {
        document
            .getElementById('myTags')
            .style
            .display = 'none';
    }
};
```

[**é¢˜å¤–è¯**] æ–°ç‰ˆçš„ NexT æ¨èç”¨æˆ·ä¸è¦å†ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸­çš„ä»»ä½•æ–‡ä»¶, è™½ç„¶æˆ‘æ˜¯ä¸€ä¸ªå‰ç«¯çº¯å°ç™½, ä½†æ˜¯æˆ‘ä¹Ÿåœ¨å°½åŠ›å»éµå®ˆè¿™æ¡çº¦å®š, ä½†æ˜¯æˆ‘å‘ç°å¦‚æœæˆ‘æƒ³è¦å®ç°è¿™ä¸ªæ ‡ç­¾äº‘, å°±å¿…é¡»ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸­çš„æ–‡ä»¶! å¦‚æœæœ‰äººçŸ¥é“å¯ä»¥ä¸ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸­çš„æ–‡ä»¶ä¾¿å¯ä»¥å®ç°ç›¸åŒçš„æ•ˆæœ, è¯·åŠ¡å¿…å‘ŠçŸ¥, ååˆ†æ„Ÿè°¢!

æ‰“å¼€æ–‡ä»¶ `node_modules\hexo-theme-next\layout\page.njk`, åœ¨è¿™ä¸ª `<div>` çš„å‰é¢åŠ ä¸Šå¦‚ä¸‹ä»£ç :

```
{# çƒå½¢äº‘æ ‡ç­¾ #}
<div>
  <canvas width="720" height="720">
  </canvas>
</div>
<div>
  <ul>
    {{ tagcloud({
        min_font   : 16,
        max_font   : 35,
        amount     : 999,
        color      : true,
        start_color: 'black',
        end_color  : 'green'
      })
    }}
  </ul>
</div>
<script type="text/javascript" src="/js/tagcanvas.js"></script>
<script type="text/javascript" src="/js/tagcloud.js"></script>
{# æ™®é€šäº‘æ ‡ç­¾ #}
</script>
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `crashcheat: true`.`tagcanvas: true`.

> [**æ³¨**] çƒå½¢æ ‡ç­¾äº‘ä¹Ÿå¯ä»¥ä½¿ç”¨ Hexo çš„æ’ä»¶ `hexo-tag-cloud` æ¥å®ç°, å…¶å®æœ€ç»ˆéƒ½æ˜¯ä¾èµ–äº `tagcanvas.js` æ–‡ä»¶çš„, è€Œä¸”æˆ‘å°è¯• `hexo-tag-cloud` åå‘ç°æˆ‘ä¸ä¼šæ”¹æ•ˆæœ...ğŸ˜‚ æ‰€ä»¥è¿˜æ˜¯ç”¨äº†ä¹‹å‰çš„è€æ–¹æ³•!
> 
> å¦å¤–, æ‰§è¡Œä¸Šé¢çš„æ“ä½œå, çƒå½¢æ ‡ç­¾äº‘å’Œæ™®é€šæ ‡ç­¾äº‘æ˜¯åŒæ—¶å­˜åœ¨çš„, å¦‚æœåªæƒ³è¦æ˜¾ç¤ºçƒå½¢æ ‡ç­¾äº‘, æŠŠåé¢é‚£ä¸ª `æ™®é€šäº‘æ ‡ç­¾` çš„ `div` æ ‡ç­¾æ³¨é‡Šæ‰å°±è¡Œäº†. å°±åƒè¿™æ ·:

```
{# æ™®é€šäº‘æ ‡ç­¾ #}
{# <div>
    {{ tagcloud({
      min_font: theme.tagcloud.min,
      max_font: theme.tagcloud.max,
      amount  : theme.tagcloud.amount,
      orderby : theme.tagcloud.orderby,
      order   : theme.tagcloud.order,
      class   : 'tag-cloud'
      })
    }}
  </div> #}
```

[](#ç²’å­æ—¶é’Ÿ "ç²’å­æ—¶é’Ÿ")ç²’å­æ—¶é’Ÿ
--------------------

ä¸‹è½½æ–‡ä»¶ [clock.js](https://kuroha.vip/js/clock.js), å¯ä»¥ç›´æ¥åœ¨é“¾æ¥ä¸Š "å³é”® => é“¾æ¥å¦å­˜ä¸º", æ”¾åˆ° `source/js/` è·¯å¾„ä¸‹.

ä¹‹ååœ¨ `source/_data/sidebar.njk` ä¸­æ·»åŠ :

```
{# ç²’å­æ—¶é’Ÿ #}
{% if theme.clock %}
    <div>
        <canvas>æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ Canvas, è¯·æ›´æ¢æµè§ˆå™¨!</canvas>
        <script type="text/javascript" src="/js/clock.js"></script>
    </div>
{% endif %}
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `clock: true`.

[](#ç«™ç‚¹è¿è¡Œæ—¶é—´ "ç«™ç‚¹è¿è¡Œæ—¶é—´")ç«™ç‚¹è¿è¡Œæ—¶é—´
--------------------------

ä¸‹è½½æ–‡ä»¶ [website_runtime.js](https://kuroha.vip/js/website_runtime.js), å¯ä»¥ç›´æ¥åœ¨é“¾æ¥ä¸Š "å³é”® => é“¾æ¥å¦å­˜ä¸º", æ”¾åˆ° `source/js/` è·¯å¾„ä¸‹.

ä¹‹ååœ¨ `source/_data/footer.njk` ä¸­æ·»åŠ :

```
{# ç«™ç‚¹å·²è¿è¡Œæ—¶é—´ #}
{% if theme.websiteruntime %}
    <div></div>
    <script type="text/javascript" src="/js/website_runtime.js"></script>
{% endif %}
```

æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `websiteruntime: true`.

[](#èŒèŒçš„çœ‹æ¿å¨˜ "èŒèŒçš„çœ‹æ¿å¨˜")èŒèŒçš„çœ‹æ¿å¨˜
--------------------------

*   ç¬¬ä¸€ç§: `hexo-helper-live2d` ä¼˜ç‚¹: æœ‰å£°éŸ³, ç¼ºç‚¹: æ— æ³•æ¢è£…, æ— æ³•æ¢æ¨¡å‹, å“åº”äº‹ä»¶å°‘.

ä½¿ç”¨æ–¹æ³•è§å®˜æ–¹ç½‘å€: [hexo-helper-live2d](https://github.com/EYHN/hexo-helper-live2d)

*   ç¬¬äºŒç§: `live2d-widget` ä¼˜ç‚¹: èƒ½æ¢è£…, èƒ½åˆ‡æ¢æ¨¡å‹, å“åº”äº‹ä»¶å¤š, ç¼ºç‚¹: æ— å£°éŸ³, é…ç½®è¾ƒå¤æ‚. (ç°åœ¨å¯èƒ½å·²ç»æœ‰å£°éŸ³äº†)

ä½¿ç”¨æ–¹æ³•è§å®˜æ–¹ç½‘å€: [live2d-widget](https://github.com/stevenjoezhang/live2d-widget)

*   ç¬¬ä¸‰ç§: `live2d_demo` ä¼˜ç‚¹: èƒ½æ¢è£…, èƒ½åˆ‡æ¢æ¨¡å‹, å“åº”äº‹ä»¶å¤š, ç¼ºç‚¹: æ— å£°éŸ³, é…ç½®è¾ƒå¤æ‚. (ç°åœ¨å¯èƒ½å·²ç»æœ‰å£°éŸ³äº†)

ä½¿ç”¨æ–¹æ³•è§å®˜æ–¹ç½‘å€: [live2d_demo](https://github.com/fghrsh/live2d_demo)

æˆ‘æ˜¯ç”¨çš„æ˜¯ç¬¬ 3 ç§ **live2d_demo**

1.  ä¸‹è½½ `live2d_demo`: [live2d_demo](https://od.lk/d/NzNfMjUyNDc1NTJf/live2d_demo.7z), è§£å‹å¯†ç æ˜¯: `https://kuroha.vip/`
    
2.  è§£å‹ä¹‹åæ”¾åˆ° `source/js/` ç›®å½•ä¸‹, å®Œæˆè¿™ä¸€æ­¥ä¹‹å, åœ¨ `source/js/live2d_demo/` ç›®å½•ä¸‹åº”è¯¥æœ‰ 9 ä¸ªæ–‡ä»¶.
    
3.  åœ¨ `source/_data/body-end.njk` æ–‡ä»¶çš„æœ€åæ·»åŠ :
    
    ```
    <!--èŒèŒçœ‹æ¿å¨˜-->
    {% if theme.live2d_demo %}
        <script type="text/javascript" src="/js/live2d_demo/jquery-ui.js"></script><!-- å®ç°æ‹–åŠ¨æ•ˆæœï¼Œéœ€å¼•å…¥ JQuery UI -->
        <script type="text/javascript" src="/js/live2d_demo/autoload.js"></script><!-- ä½¿ç”¨ autoload.js è‡ªåŠ¨å¼•å…¥çœ‹æ¿å¨˜ -->
    {% endif %}
    ```
    
4.  æœ€ååœ¨ **ä¸»é¢˜é…ç½®æ–‡ä»¶** ä¸­å†™å…¥ `live2d_demo: true`, å¯ç”¨çœ‹æ¿å¨˜!
    

[**æ³¨**]

1.  è¦å®šåˆ¶è‡ªå·±çš„çœ‹æ¿å¨˜, å¯ä»¥ä¿®æ”¹ `autoload.js` ä¸­çš„å‚æ•°é…ç½®, è¿˜å¯ä»¥åœ¨ `waifu-tips.json` ä¸­ä¿®æ”¹å¯¹è¯, è¿™ä¸¤å¤„çš„é…ç½®è¶³å¤Ÿå®šåˆ¶è‡ªå·±ç‹¬ç‰¹çš„çœ‹æ¿å¨˜äº†!
    
2.  ç»è¿‡ä»¥ä¸Šæ“ä½œå¦‚æœè¿˜æ˜¯ä¸èƒ½è¾¾åˆ°æ•ˆæœ, è¯·æ£€æŸ¥ `autoload.js` ä¸­çš„è·¯å¾„è®¾ç½®æ˜¯å¦æ­£ç¡®! (è™½ç„¶æˆ‘å·²ç»é…ç½®å¥½äº†, å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨, ä¸è¿‡æ—¢ç„¶å‡ºé—®é¢˜äº†, å°±è‡ªå·±æ£€æŸ¥ä¸€ä¸‹å§!)
    

[](#aplayer-éŸ³ä¹æ•ˆæœå±•ç¤º "aplayer éŸ³ä¹æ•ˆæœå±•ç¤º")aplayer éŸ³ä¹æ•ˆæœå±•ç¤º
==================================================

  ç»¯è‰²ä¹‹ç©º - å·ç”°çœŸç¾  00:00 / 00:00         

1.  1 ç»¯è‰²ä¹‹ç©º å·ç”°çœŸç¾
2.  2 å…‰ã‚‹ãªã‚‰ Goose house

[](#dplayer-è§†é¢‘æ•ˆæœå±•ç¤º "dplayer è§†é¢‘æ•ˆæœå±•ç¤º")dplayer è§†é¢‘æ•ˆæœå±•ç¤º
==================================================

<video src="https://kuroha.vip/video/hexo_update/hexo_update.mp4" control></video>

è®¾ç½®å¼¹å¹•é¢œè‰²                  è®¾ç½®å¼¹å¹•ç±»å‹   é¡¶éƒ¨    æ»šåŠ¨    åº•éƒ¨      0:00 / 01:40     é€Ÿåº¦  æ´—è„‘å¾ªç¯   æ˜¾ç¤ºå¼¹å¹•   æµ·é‡å¼¹å¹•   å¼¹å¹•é€æ˜åº¦ 0.5 0.75 æ­£å¸¸ 1.25 1.5 2   00:57 [x] Player version Player FPS Video type Video url Video resolution Video duration [è§†é¢‘ç»Ÿè®¡ä¿¡æ¯](javascript:void(0);) [å…³äºä½œè€…](https://diygod.me) [DPlayer v1.26.0](https://github.com/MoePlayer/DPlayer) 

å’•å™œå’•å™œ~ èµèµ ![](https://kuroha.vip/images/donate/alipay.png)

æ”¯ä»˜å®

*   **æœ¬æ–‡ä½œè€…ï¼š** Kuroha
*   **æœ¬æ–‡é“¾æ¥ï¼š** [https://kuroha.vip/hexo/hexo_update.html](https://kuroha.vip/hexo/hexo_update.html "Hexo 3.9.0 + NexT 7.2.0 => Hexo 5.1.0 + NexT 8.0.0")
*   **ç‰ˆæƒå£°æ˜ï¼š** æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ [BY-NC-SA](https://creativecommons.org/licenses/by-nc-sa/4.0/zh_CN) è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼

æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“

[Twitter](https://twitter.com/KurohaKirito) [Telegram](https://t.me/KurohaKirito) [WeChat](/images/followme/wechat.png) [RSS](/atom.xml)

[Hexo](/tags/Hexo/) [æ­£åˆ™è¡¨è¾¾å¼](/program/regular_expression.html "æ­£åˆ™è¡¨è¾¾å¼") [Oracle å…¨æ‹¼å’Œé¦–å­—æ¯æŸ¥è¯¢](/oracle/oracle_trigger.html "Oracle å…¨æ‹¼å’Œé¦–å­—æ¯æŸ¥è¯¢")